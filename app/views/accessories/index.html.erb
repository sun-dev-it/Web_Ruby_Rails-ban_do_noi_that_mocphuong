<div class="py-3 px-5 mt-4">
  <div class="flex text-xs">
      <%= link_to root_path do %>
          <div class="flex hover:text-black">
              <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-3 mt-[2px]">
                <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
              </svg>
              <div>Trang chủ </div>
          </div>
      <% end %>
      
      > <%= link_to "Thiết bị và phụ kiện", accessories_path %>
  </div>
</div>

<div class="flex justify-center">
  <div class="w-[90%] sm:w-[80%] z-47">
    <div class="text-center mt-10 mb-8">
      <h2 class="text-3xl md:text-4xl font-extrabold tracking-wide"
          style="color: <%= Color.first&.header || '#ffffff' %>;">
        <span class="inline-block relative">

          THIẾT BỊ VÀ PHỤ KIỆN

          <span class="absolute left-1/2 -bottom-2 w-16 h-[3px] -translate-x-1/2 rounded-full"
                style="background-color: <%= Color.first&.header || '#ffffff' %>;">
          </span>

        </span>
      </h2>
    </div>


    <!-- Danh sách project -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-10 mt-10">

      <% @accessories.each do |accessory| %>
        <%= link_to accessory_path(accessory.id) do %>

          <div class="group my-2">
            <div class="relative w-full overflow-hidden group">

              <div id="slider-track" class="flex transition-transform duration-700 ease-in-out">
                <% @decoration.images.each do |img| %>
                  <div class="w-full flex-shrink-0">
                    <%= image_tag img, class: "w-full aspect-[4/3] object-cover" %>
                  </div>
                <% end %>
              </div>
                
              <!-- Overlay gradient (nội thất style) -->
              <div class="pointer-events-none absolute inset-0 bg-gradient-to-t from-black/30 via-transparent to-transparent"></div>
                
              <!-- Prev -->
              <button
                id="prevSlide"
                class="absolute left-4 top-1/2 -translate-y-1/2
                       opacity-0 group-hover:opacity-100
                       bg-black/40 hover:bg-black/60
                       text-white w-10 h-10 rounded-full
                       transition">
                ‹
              </button>
                
              <!-- Next -->
              <button
                id="nextSlide"
                class="absolute right-4 top-1/2 -translate-y-1/2
                       opacity-0 group-hover:opacity-100
                       bg-black/40 hover:bg-black/60
                       text-white w-10 h-10 rounded-full
                       transition">
                ›
              </button>
                <script>
                document.addEventListener("DOMContentLoaded", () => {
                  const track = document.getElementById("slider-track");
                  if (!track) return;
                            
                  const slides = track.children;
                  const total = slides.length;
                  let index = 0;
                            
                  function updateSlide() {
                    track.style.transform = `translateX(-${index * 100}%)`;
                  }
                
                  document.getElementById("nextSlide")?.addEventListener("click", () => {
                    index = (index + 1) % total;
                    updateSlide();
                  });
                
                  document.getElementById("prevSlide")?.addEventListener("click", () => {
                    index = (index - 1 + total) % total;
                    updateSlide();
                  });
                
                  // Auto slide mỗi 5 giây
                  setInterval(() => {
                    index = (index + 1) % total;
                    updateSlide();
                  }, 5000);
                });
                </script>
            </div>

            <!-- Tên project -->
            <div class="font-semibold text-xl text-center mt-4 text-gray-900">
              <%= accessory.name %>
            </div>
          </div>

        <% end %>
      <% end %>

    </div>

  </div>
</div>

