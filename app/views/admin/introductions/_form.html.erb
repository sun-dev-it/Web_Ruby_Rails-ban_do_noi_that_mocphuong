<%= form_with model: @introduction, url: admin_introduction_path, local: true, method: :patch, multipart: true do |f| %>
  <div class="space-y-6 bg-white p-6 rounded-xl shadow-lg">

    <!-- Lời giới thiệu -->
    <div>
      <%= f.label :content, "Lời giới thiệu trang home", class: "block font-medium mb-1" %>
      <%= f.text_area :content, rows: 10,
            class: "w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring focus:ring-blue-300 focus:outline-none" %>
    </div>

    <!-- Ảnh trang chủ -->
    <div>
      <%= f.label :images, "Thay đổi ảnh trang chủ", class: "block font-medium mb-1" %>
      <%= f.file_field :images, multiple: true,
            class: "w-full border border-gray-300 rounded-lg px-3 py-2 bg-white" %>
    </div>

    <!-- Link Video YouTube -->
    <div>
      <%= f.label :link_video, "Link youTube trang chủ", class: "block font-medium mb-1" %>
      <%= f.text_field :link_video, size: 80,
            class: "w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring focus:ring-blue-300 focus:outline-none" %>
    </div>

    <!-- Nút Cập nhật -->
    <div class="pt-4">
      <%= f.submit "Cập nhật",
            class: "w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition" %>
    </div>

  </div>
<% end %>

<% if @introduction.images.attached? %>
  <div class="flex gap-2">
    <% @introduction.images.each do |img| %>
      <div class="relative">
        <%= image_tag img, class: "w-32 h-32 object-cover rounded border" %>
        <%= button_to "Xóa", destroy_image_introduction_path(@introduction, image_id: img.id),
                      method: :delete,
                      data: { confirm: "Bạn có chắc muốn xóa ảnh này?" },
                      class: "absolute top-1 right-1 bg-red-500 text-white px-2 py-1 text-xs rounded" %>
      </div>
    <% end %>
  </div>
<% end %>
