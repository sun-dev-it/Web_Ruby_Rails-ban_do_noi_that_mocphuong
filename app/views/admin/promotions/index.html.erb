<%= link_to "← Quay lại", admin_dashboard_path,
      class:"text-blue-600 hover:text-blue-800 m-6 inline-block" %>
        
<div class="flex justify-center">
  <div class="sm:w-[80%] w-[90%] mt-10 bg-white rounded-lg p-6 sm:p-10">
    <h1 class="text-2xl font-bold mb-6 text-center">Quản lí Khuyến Mãi</h1>

    <!-- Form tạo/chỉnh sửa promotion -->
    <%= render "form", promotion: @promotion %>

    <!-- Danh sách promotion vừa thêm/chỉnh sửa -->
    <ul class="mt-6 space-y-6">
      <p class="font-bold">Khuyến mãi vừa thêm/chỉnh sửa</p>
      <% @promotions.each do |promotion| %>
        <li class="border rounded-lg p-4 space-y-4">
          <!-- Nội dung promotion -->
          <div>
            <p class="font-semibold text-lg"><%= promotion.name %></p>
            <p class="text-gray-700"><%= promotion.content %></p>
          </div>

          <!-- Ảnh promotion -->
          <% if promotion.image.attached? %>
            <%= image_tag promotion.image, class: "w-48 h-48 object-cover rounded border text-center" %>
          <% else %>
            <p class="text-gray-400">Không có hình ảnh</p>
          <% end %>

          <!-- Video YouTube -->
          <% if promotion.video.present? %>
            <div class="flex justify-center">
              <iframe width="560" height="315" 
                      src="<%= promotion.video %>" 
                      title="YouTube video" 
                      frameborder="0" 
                      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                      allowfullscreen
                      class="w-full max-w-3xl aspect-video rounded-lg shadow-lg">
              </iframe>
            </div>
          <% end %>

          <!-- Nút Sửa/Xóa -->
          <div class="flex space-x-4 justify-end">
            <%= link_to "Sửa", edit_admin_promotion_path(promotion),
                  class: "px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition" %>
            <%= button_to "Xóa", admin_promotion_path(promotion),
                  method: :delete,
                  class: "px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition" %>
          </div>
        </li>
      <% end %>
    </ul>
  </div>
</div>
