<div id="image-wrapper" class="relative min-h-screen flex items-center overflow-hidden group">
  <div id="bg-carousel" class="absolute inset-0 w-full h-full overflow-hidden animate-bg-move-about_us">
    <% if @introduction.images.attached? %>
      <% @introduction.images.each_with_index do |img, index| %>
        <div class="absolute inset-0 bg-cover bg-center transition-opacity duration-1000
                    <%= index == 0 ? 'opacity-100' : 'opacity-0' %>"
             style="background-image: url('<%= url_for(img) %>');">
        </div>
      <% end %>
    <% end %>
  </div>

  <div class="absolute inset-0 left-door bg-black/90 origin-left"></div>
  <div class="absolute inset-0 right-door bg-black/90 origin-right"></div>

<div class="absolute inset-0 bg-black/50 animate-overlay-fade"></div>
  <div class="w-full max-w-7xl mx-auto px-6 mt-[-20px]">
    <div class="text-center mt-20 mb-15 animate-fade-up">
      <p class="text-xs tracking-[0.35em] text-gray-300 mb-3">
        INTRODUCTION
      </p>
      <h1 class="text-3xl md:text-4xl font-semibold text-gray-200 tracking-wide">
        Giới thiệu
      </h1>
      <div class="mt-6 flex justify-center">
        <span class="w-20 h-[2px] bg-[#FFD2B8]"></span>
      </div>
      <p class="mt-6 mb-6 text-gray-200 max-w-2xl mx-auto leading-relaxed">
        NỘI THẤT MỘC PHƯƠNG – <%= @slogan.content %>
      </p>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
      <%= link_to categories_path,
        class: "group card-animate border border-gray-100 rounded-2xl p-10
                transition-all duration-500 bg-[rgba(0,0,0,0.2)]
                hover:-translate-y-2 hover:shadow-2xl
                hover:border-[#c49980]" do %>

        <span class="text-sm tracking-widest text-gray-300">
          01
        </span>

        <h2 class="mt-6 text-2xl font-medium text-gray-200">
          Sản phẩm
        </h2>

        <p class="mt-4 text-gray-300 leading-relaxed">
          Đa dạng mẫu mã, phong cách hiện đại,
          phù hợp xu hướng và nhu cầu thị trường.
        </p>

        <div class="mt-8 flex items-center text-sm font-medium text-gray-100">
          <span class="mr-2">Xem thêm</span>
          <span class="transform transition group-hover:translate-x-2">→</span>
        </div>
      <% end %>

      <%= link_to project_informations_path,
        class: "group card-animate border border-gray-100 rounded-2xl p-10
                transition-all duration-500 delay-100 bg-[rgba(0,0,0,0.2)]
                hover:-translate-y-2 hover:shadow-2xl
                hover:border-[#c49980]" do %>

        <span class="text-sm tracking-widest text-gray-300">
          02
        </span>

        <h2 class="mt-6 text-2xl font-medium text-gray-200">
          Dự án
        </h2>

        <p class="mt-4 text-gray-300 leading-relaxed">
          Thi công nội thất chất lượng cao,
          tiến độ nhanh chóng, đúng cam kết.
        </p>

        <div class="mt-8 flex items-center text-sm font-medium text-gray-100">
          <span class="mr-2">Xem thêm</span>
          <span class="transform transition group-hover:translate-x-2">→</span>
        </div>
      <% end %>

      <%= link_to decorations_path,
        class: "group card-animate border border-gray-100 rounded-2xl p-10 mb-4 sm:mb-0
                transition-all duration-500 delay-200 bg-[rgba(0,0,0,0.2)]
                hover:-translate-y-2 hover:shadow-2xl
                hover:border-[#c49980]" do %>

        <span class="text-sm tracking-widest text-gray-300">
          03
        </span>

        <h2 class="mt-6 text-2xl font-medium text-gray-200">
          Trang trí nội thất
        </h2>

        <p class="mt-4 text-gray-300 leading-relaxed">
          Tư vấn thiết kế và trang trí
          không gian sống tiện nghi, thẩm mỹ.
        </p>

        <div class="mt-8 flex items-center text-sm font-medium text-gray-100">
          <span class="mr-2">Xem chi tiết</span>
          <span class="transform transition group-hover:translate-x-2">→</span>
        </div>
      <% end %>

    </div>
  </div>
</div>







  <div class="flex justify-center">
    <%= render "home/introduction" %>
  </div>
  
<div class="text-center mt-10 mb-10">
  <h2 class="text-2xl md:text-3xl font-gilroy tracking-wide"
      style="color: <%= Color.first&.header || '#ffffff' %>;">
    <span class="inline-block relative">
        
      Sản phẩm giảm giá
        
      <span class="absolute left-1/2 -bottom-2 w-16 h-[3px] -translate-x-1/2 rounded-full"
            style="background-color: <%= Color.first&.header || '#ffffff' %>;">
      </span>
        
    </span>
  </h2>

  <%= render "products/promotion" %>
</div>

<div class="text-center mt-10 mb-10">
  <h2 class="text-2xl md:text-3xl font-gilroy tracking-wide"
      style="color: <%= Color.first&.header || '#ffffff' %>;">
    <span class="inline-block relative">
        
      Sản phẩm nổi bật
        
      <span class="absolute left-1/2 -bottom-2 w-16 h-[3px] -translate-x-1/2 rounded-full"
            style="background-color: <%= Color.first&.header || '#ffffff' %>;">
      </span>
        
    </span>
  </h2>

  <%= render "categories/product" %>
</div>



<div class="flex justify-center m-20">
  <%= link_to categories_path,
        class: "group inline-flex items-center gap-3
                px-8 py-3
                border border-gray-300 rounded-full
                text-gray-800 font-medium
                transition-all duration-300
                hover:bg-black hover:text-white" do %>

    <span>Xem thêm sản phẩm</span>

    <!-- Arrow -->
    <svg xmlns="http://www.w3.org/2000/svg"
         viewBox="0 0 24 24" fill="none"
         stroke="currentColor" stroke-width="2"
         class="w-5 h-5
                transition-transform duration-300
                group-hover:translate-x-2">
      <path stroke-linecap="round" stroke-linejoin="round"
            d="M5 12h14M13 5l7 7-7 7" />
    </svg>

  <% end %>
</div>



<section class="relative min-h-screen flex items-center overflow-hidden group">
  <!-- Carousel Background -->
  <div id="bg-carousel" class="absolute inset-0 w-full h-full overflow-hidden animate-bg-move-about_us">
    <% if @projectInformationInfor.images.attached? %>
      <% @projectInformationInfor.images.each_with_index do |img, index| %>
        <div class="absolute inset-0 bg-cover bg-center transition-opacity duration-1000
                    <%= index == 0 ? 'opacity-100' : 'opacity-0' %>"
             style="background-image: url('<%= url_for(img) %>');">
        </div>
      <% end %>
    <% end %>
  </div>

  <div class="absolute inset-0 bg-black/40 animate-overlay-fade"></div>


  <div class="relative z-10 max-w-4xl mx-auto text-center text-white px-6">
    <h1 class="text-4xl md:text-6xl font-light tracking-wide leading-tight">
      Không gian sống <br>
      <span class="font-semibold">được thiết kế để cảm nhận</span>
    </h1>

    <p class="mt-6 text-lg text-white/80">
      Thiết kế – Sản xuất – Thi công nội thất trọn gói
    </p>

    <div class="mt-10">
      <%= link_to "Xem dự án", project_informations_path,
        class: "inline-block px-10 py-4 border border-white text-sm tracking-widest
                hover:bg-white hover:text-black transition" %>
    </div>
  </div>

  <!-- Nút điều hướng -->
  <button id="prev-bg" class="absolute left-4 top-1/2 -translate-y-1/2 bg-black/40 text-white w-10 h-10 rounded-full opacity-0 group-hover:opacity-100 transition">‹</button>
  <button id="next-bg" class="absolute right-4 top-1/2 -translate-y-1/2 bg-black/40 text-white w-10 h-10 rounded-full opacity-0 group-hover:opacity-100 transition">›</button>
</section>


<script>
  document.addEventListener('DOMContentLoaded', () => {
    const slides = document.querySelectorAll('#bg-carousel > div');
    const nextBtn = document.getElementById('next-bg');
    const prevBtn = document.getElementById('prev-bg');
    let current = 0;

    function showSlide(index) {
      slides.forEach((slide, i) => {
        slide.classList.toggle('opacity-100', i === index);
        slide.classList.toggle('opacity-0', i !== index);
      });
    }

    nextBtn.addEventListener('click', () => {
      current = (current + 1) % slides.length;
      showSlide(current);
    });

    prevBtn.addEventListener('click', () => {
      current = (current - 1 + slides.length) % slides.length;
      showSlide(current);
    });

    // Tự động chuyển slide mỗi 5s
    setInterval(() => {
      current = (current + 1) % slides.length;
      showSlide(current);
    }, 5000);
  });
</script>





<div class="min-h-screen flex flex-col items-center mt-2 justify-center p-6">
  <div class="w-[90%] sm:w-[80%] text-center p-8">
    <h1 class="text-xl sm:text-4xl font-semibold mb-4 text-gray-800">
      Bạn có ý tưởng cho ngôi nhà của bạn?
    </h1>
    <p class="text-gray-600 mb-6">
      Vui lòng để lại số điện thoại, chúng tôi sẽ liên hệ với bạn trong thời gian sớm nhất.
    </p>
    <p class="text-gray-600 mb-6">
      Nếu bạn cần hỗ trợ ngay lập tức, đừng ngần ngại gọi cho chúng tôi: 
      <span class="text-yellow-700 font-medium"><%= @contact.phone %></span>
    </p>

    <%= form_with model: @request, local: true do |f| %>
      <div class="flex flex-col gap-4">
        <div>
          <%= f.label :name, "Tên của bạn", class: "block text-left mb-1 text-gray-700" %>
          <%= f.text_field :name, required: true, class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500" %>
        </div>
    
        <div>
          <%= f.label :phone, "Số điện thoại", class: "block text-left mb-1 text-gray-700" %>
          <%= f.text_field :phone, required: true, class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500" %>
        </div>
    
        <div>
          <%= f.label :content, "Nội dung yêu cầu", class: "block text-left mb-1 text-gray-700" %>
          <%= f.text_area :content, rows: 4, required: true, class: "w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-yellow-500" %>
        </div>
    
        <div class="flex w-full justify-center">
          <%= f.submit "Gửi yêu cầu", 
                class: "w-[50%] px-6 text-white font-semibold py-3 rounded-lg transition", 
                style: "background-color: #{Color.first&.header || '#ffffff'};" %>
        </div>
      </div>
    <% end %>

  </div>
</div>

